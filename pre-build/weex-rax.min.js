(this.nativeLog||function(e){console.log(e)})("Weex JS Framework 0.24.0, Build 2018-01-05 18:17. (Rax: 0.4.20)"),this.getJSFMVersion=function(){return"0.24.0"};var global=this,process={env:{}},setTimeout=global.setTimeout;!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t():"function"==typeof define&&define.amd?define(t):t()}(0,function(){"use strict";var e={framework:"0.24.0",transformer:">=0.1.5 <0.5"},t=1;function n(){return(t++).toString()}function r(e){var t=Object.prototype.toString.call(e);return t.substring(8,t.length-1)}function o(e){if("function"!=typeof btoa)return"";var t=Array.prototype.map.call(new Uint8Array(e),function(e){return String.fromCharCode(e)}).join("");return btoa(t)}function i(e){if(!e||"object"!=typeof e)return!0;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function a(e){if("Object"===r(e)){if(e["@type"]&&"binary"===e["@type"])return function(e){if("function"!=typeof atob)return new ArrayBuffer(0);var t=atob(e),n=new Uint8Array(t.length);return Array.prototype.forEach.call(t,function(e,t){n[t]=e.charCodeAt(0)}),n.buffer}(e.base64||"");var t={};for(var n in e)t[n]=a(e[n]);return t}return"Array"===r(e)?e.map(a):e}function s(e,t,n){return t+"@"+n+"#"+e}var c=function(e){this.instanceId=String(e),this.lastCallbackId=0,this.callbacks={},this.hooks={}};c.prototype.add=function(e){return this.lastCallbackId++,this.callbacks[this.lastCallbackId]=e,this.lastCallbackId},c.prototype.remove=function(e){var t=this.callbacks[e];return delete this.callbacks[e],t},c.prototype.registerHook=function(e,t,n,r){var o=s(e,t,n);this.hooks[o]&&console.warn('[JS Framework] Override an existing component hook "'+o+'".'),this.hooks[o]=r},c.prototype.triggerHook=function(e,t,n,r){void 0===r&&(r={});var o=s(e,t,n),i=this.hooks[o];if("function"!=typeof i)return console.error("[JS Framework] Invalid hook function type ("+typeof i+') on "'+o+'".'),null;var a=null;try{a=i.apply(null,r.args||[])}catch(e){console.error('[JS Framework] Failed to execute the hook function on "'+o+'".')}return a},c.prototype.consume=function(e,t,n){var r=this.callbacks[e];return void 0!==n&&!1!==n||delete this.callbacks[e],"function"==typeof r?r(a(t)):new Error('invalid callback id "'+e+'"')},c.prototype.close=function(){this.callbacks={},this.hooks={}};var l={};function u(e){return l[e]}function d(e){var t=l[e];return t&&t.taskCenter?t.taskCenter:null}function f(e,t,n){var r=e.documentElement;if(!(r.pureChildren.length>0||t.parentNode)){var o=r.children,i=o.indexOf(n);i<0?o.push(t):o.splice(i,0,t),1===t.nodeType?("body"===t.role?(t.docId=e.id,t.ownerDocument=e,t.parentNode=r,p(t,r)):(t.children.forEach(function(e){e.parentNode=t}),h(e,t),t.docId=e.id,t.ownerDocument=e,p(t,r),delete e.nodeMap[t.nodeId]),r.pureChildren.push(t),function(e,t){var n=t.toJSON();e&&e.taskCenter&&"function"==typeof e.taskCenter.send&&e.taskCenter.send("dom",{action:"createBody"},[n])}(e,t)):(t.parentNode=r,e.nodeMap[t.ref]=t)}}function h(e,t){t.role="body",t.depth=1,delete e.nodeMap[t.nodeId],t.ref="_root",e.nodeMap._root=t,e.body=t}function p(e,t){e.parentNode=t,t.docId&&(e.docId=t.docId,e.ownerDocument=t.ownerDocument,e.ownerDocument.nodeMap[e.nodeId]=e,e.depth=t.depth+1),e.children.forEach(function(t){p(t,e)})}function v(e){for(;e;){if(1===e.nodeType)return e;e=e.nextSibling}}function y(e){for(;e;){if(1===e.nodeType)return e;e=e.previousSibling}}function m(e,t,n,r){n<0&&(n=0);var o=t[n-1],i=t[n];return t.splice(n,0,e),r&&(o&&(o.nextSibling=e),e.previousSibling=o,e.nextSibling=i,i&&(i.previousSibling=e)),n}function g(e,t,n,r){var o=t.indexOf(e);if(o<0)return-1;if(r){var i=t[o-1],a=t[o+1];i&&(i.nextSibling=a),a&&(a.previousSibling=i)}t.splice(o,1);var s=n;o<=n&&(s=n-1);var c=t[s-1],l=t[s];return t.splice(s,0,e),r&&(c&&(c.nextSibling=e),e.previousSibling=c,e.nextSibling=l,l&&(l.previousSibling=e)),o===s?-1:n}function b(e,t,n){var r=t.indexOf(e);if(!(r<0)){if(n){var o=t[r-1],i=t[r+1];o&&(o.nextSibling=i),i&&(i.previousSibling=o)}t.splice(r,1)}}var S=function(){this.nodeId=n(),this.ref=this.nodeId,this.children=[],this.pureChildren=[],this.parentNode=null,this.nextSibling=null,this.previousSibling=null};S.prototype.destroy=function(){var e=u(this.docId);e&&(delete this.docId,delete e.nodeMap[this.nodeId]),this.children.forEach(function(e){e.destroy()})};var w;var k={};var E="div",C=["click","longpress","touchstart","touchmove","touchend","panstart","panmove","panend","horizontalpan","verticalpan","swipe"];function I(e,t){u(e).nodeMap[t.nodeId]=t}var O=function(e){function t(t,r,o){void 0===t&&(t=E),e.call(this);var i,a=(i=t,k[i]);if(a&&!o)return new a(t,r,!0);r=r||{},this.nodeType=1,this.nodeId=n(),this.ref=this.nodeId,this.type=t,this.attr=r.attr||{},this.style=r.style||{},this.classStyle=r.classStyle||{},this.classList=r.classList||[],this.event={},this.children=[],this.pureChildren=[]}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.appendChild=function(e){if(!e.parentNode||e.parentNode===this)if(e.parentNode){if(g(e,this.children,this.children.length,!0),1===e.nodeType){var t=g(e,this.pureChildren,this.pureChildren.length),n=d(this.docId);if(n&&t>=0)return n.send("dom",{action:"moveElement"},[e.ref,this.ref,t])}}else if(p(e,this),m(e,this.children,this.children.length,!0),this.docId&&I(this.docId,e),1===e.nodeType){m(e,this.pureChildren,this.pureChildren.length);var r=d(this.docId);if(r)return r.send("dom",{action:"addElement"},[this.ref,e.toJSON(),-1])}},t.prototype.insertBefore=function(e,t){if(!(e.parentNode&&e.parentNode!==this||e===t||e.nextSibling&&e.nextSibling===t))if(e.parentNode){if(g(e,this.children,this.children.indexOf(t),!0),1===e.nodeType){var n=v(t),r=g(e,this.pureChildren,n?this.pureChildren.indexOf(n):this.pureChildren.length),o=d(this.docId);if(o&&r>=0)return o.send("dom",{action:"moveElement"},[e.ref,this.ref,r])}}else if(p(e,this),m(e,this.children,this.children.indexOf(t),!0),this.docId&&I(this.docId,e),1===e.nodeType){var i=v(t),a=m(e,this.pureChildren,i?this.pureChildren.indexOf(i):this.pureChildren.length),s=d(this.docId);if(s)return s.send("dom",{action:"addElement"},[this.ref,e.toJSON(),a])}},t.prototype.insertAfter=function(e,t){if(!(e.parentNode&&e.parentNode!==this||e===t||e.previousSibling&&e.previousSibling===t))if(e.parentNode){if(g(e,this.children,this.children.indexOf(t)+1,!0),1===e.nodeType){var n=g(e,this.pureChildren,this.pureChildren.indexOf(y(t))+1),r=d(this.docId);if(r&&n>=0)return r.send("dom",{action:"moveElement"},[e.ref,this.ref,n])}}else if(p(e,this),m(e,this.children,this.children.indexOf(t)+1,!0),this.docId&&I(this.docId,e),1===e.nodeType){var o=m(e,this.pureChildren,this.pureChildren.indexOf(y(t))+1),i=d(this.docId);if(i)return i.send("dom",{action:"addElement"},[this.ref,e.toJSON(),o])}},t.prototype.removeChild=function(e,t){if(e.parentNode&&(b(e,this.children,!0),1===e.nodeType)){b(e,this.pureChildren);var n=d(this.docId);n&&n.send("dom",{action:"removeElement"},[e.ref])}t||e.destroy()},t.prototype.clear=function(){var e=d(this.docId);e&&this.pureChildren.forEach(function(t){e.send("dom",{action:"removeElement"},[t.ref])}),this.children.forEach(function(e){e.destroy()}),this.children.length=0,this.pureChildren.length=0},t.prototype.setAttr=function(e,t,n){if(this.attr[e]!==t||!1===n){this.attr[e]=t;var r=d(this.docId);if(!n&&r){var o={};o[e]=t,r.send("dom",{action:"updateAttrs"},[this.ref,o])}}},t.prototype.setAttrs=function(e,t){if(!i(e)){var n={};for(var r in e)this.attr[r]!==e[r]&&(this.attr[r]=e[r],n[r]=e[r]);if(!i(n)){var o=d(this.docId);!t&&o&&o.send("dom",{action:"updateAttrs"},[this.ref,n])}}},t.prototype.setStyle=function(e,t,n){if(this.style[e]!==t||!1===n){this.style[e]=t;var r=d(this.docId);if(!n&&r){var o={};o[e]=t,r.send("dom",{action:"updateStyle"},[this.ref,o])}}},t.prototype.setStyles=function(e,t){if(!i(e)){var n={};for(var r in e)this.style[r]!==e[r]&&(this.style[r]=e[r],n[r]=e[r]);if(!i(n)){var o=d(this.docId);!t&&o&&o.send("dom",{action:"updateStyle"},[this.ref,n])}}},t.prototype.setClassStyle=function(e){for(var t in this.classStyle)this.classStyle[t]="";Object.assign(this.classStyle,e);var n=d(this.docId);n&&n.send("dom",{action:"updateStyle"},[this.ref,this.toStyle()])},t.prototype.addEvent=function(e,t,n){if(this.event||(this.event={}),!this.event[e]){this.event[e]={handler:t,params:n};var r=d(this.docId);r&&r.send("dom",{action:"addEvent"},[this.ref,e])}},t.prototype.removeEvent=function(e){if(this.event&&this.event[e]){delete this.event[e];var t=d(this.docId);t&&t.send("dom",{action:"removeEvent"},[this.ref,e])}},t.prototype.fireEvent=function(e,t,n,r){var o=null,i=!1,a=this.event[e];if(a&&t){var s=a.handler;t.stopPropagation=function(){i=!0},o=r&&r.params?s.call.apply(s,[this].concat(r.params,[t])):s.call(this,t)}return!i&&n&&-1!==C.indexOf(e)&&this.parentNode&&this.parentNode.fireEvent&&(t.currentTarget=this.parentNode,this.parentNode.fireEvent(e,t,n)),o},t.prototype.toStyle=function(){return Object.assign({},this.classStyle,this.style)},t.prototype.toJSON=function(){var e={ref:this.ref.toString(),type:this.type};i(this.attr)||(e.attr=this.attr),this.classList.length>0&&(e.classList=this.classList.slice());var t=this.toStyle();i(t)||(e.style=t);var n=[];for(var r in this.event){var o=this.event[r].params;o?n.push({type:r,params:o}):n.push(r)}return n.length&&(e.event=n),this.pureChildren.length&&(e.children=this.pureChildren.map(function(e){return e.toJSON()})),e},t.prototype.toString=function(){return"<"+this.type+" attr="+JSON.stringify(this.attr)+" style="+JSON.stringify(this.toStyle())+">"+this.pureChildren.map(function(e){return e.toString()}).join("")+"</"+this.type+">"},t}(S);w=O;var x=function(){},A=function(e,t){Object.defineProperty(this,"instanceId",{enumerable:!0,value:String(e)}),Object.defineProperty(this,"callbackManager",{enumerable:!0,value:new c(e)}),x=t||function(){}};A.prototype.callback=function(e,t,n){return this.callbackManager.consume(e,t,n)},A.prototype.registerHook=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return(n=this.callbackManager).registerHook.apply(n,e);var n},A.prototype.triggerHook=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return(n=this.callbackManager).triggerHook.apply(n,e);var n},A.prototype.updateData=function(e,t,n){this.send("module",{module:"dom",method:"updateComponentData"},[e,t,n])},A.prototype.destroyCallback=function(){return this.callbackManager.close()},A.prototype.normalize=function(e){var t=r(e);return e&&e instanceof O?e.ref:e&&e._isVue&&e.$el instanceof O?e.$el.ref:"Function"===t?this.callbackManager.add(e).toString():function(e){var t=r(e);switch(t){case"Undefined":case"Null":return"";case"RegExp":return e.toString();case"Date":return e.toISOString();case"Number":case"String":case"Boolean":case"Array":case"Object":return e;case"ArrayBuffer":return{"@type":"binary",dataType:t,base64:o(e)};case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":return{"@type":"binary",dataType:t,base64:o(e.buffer)};default:return JSON.stringify(e)}}(e)},A.prototype.send=function(e,t,n,r){var o=this,i=t.action,a=t.component,s=t.ref,c=t.module,l=t.method;switch(n=n.map(function(e){return o.normalize(e)}),e){case"dom":return this[i](this.instanceId,n);case"component":return this.componentHandler(this.instanceId,s,l,n,Object.assign({component:a},r));default:return this.moduleHandler(this.instanceId,c,l,n,r)}},A.prototype.callDOM=function(e,t){return this[e](this.instanceId,t)},A.prototype.callComponent=function(e,t,n,r){return this.componentHandler(this.instanceId,e,t,n,r)},A.prototype.callModule=function(e,t,n,r){return this.moduleHandler(this.instanceId,e,t,n,r)};function _(e,t){var n=u(e);return n?Array.isArray(t)?t.map(function(e){switch(e.method){case"callback":return function(e,t,n,r){return e.taskCenter.callback(t,n,r)}.apply(void 0,[n].concat(e.args));case"fireEventSync":case"fireEvent":return function(e,t,n,r,o,i){var a=e.getRef(t);return a?e.fireEvent(a,n,r,o,i):new Error('invalid element reference "'+t+'"')}.apply(void 0,[n].concat(e.args));case"componentHook":return function(e,t,n,r,o){if(!e||!e.taskCenter)return console.error('[JS Framework] Can\'t find "document" or "taskCenter".'),null;var i=null;try{i=e.taskCenter.triggerHook(t,n,r,o)}catch(e){console.error('[JS Framework] Failed to trigger the "'+n+"@"+r+'" hook on '+t+".")}return i}.apply(void 0,[n].concat(e.args))}}):void 0:new Error("[JS Framework] Failed to receiveTasks, instance ("+e+") is not available.")}var j={};function F(e){var t=function(t){j[t]||(j[t]={}),e[t].forEach(function(e){"string"==typeof e?j[t][e]=!0:j[t][e.name]=e.args})};for(var n in e)t(n)}function N(e,t){return"string"==typeof t?!(!j[e]||!j[e][t]):!!j[e]}var J={};function M(e){Array.isArray(e)&&e.forEach(function(e){e&&("string"==typeof e?J[e]=!0:"object"==typeof e&&"string"==typeof e.type&&(J[e.type]=e,function(e,t){if(t&&t.length){var n=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(w);t.forEach(function(t){n.prototype[t]=function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];var o=d(this.docId);if(o)return o.send("component",{ref:this.ref,component:e,method:t},n)}}),k[e]=n}}(e.type,e.methods)))})}function T(e){return!!J[e]}var D=[];function P(e,t){B(e)?console.warn('Service "'+e+'" has been registered already!'):(t=Object.assign({},t),D.push({name:e,options:t}))}function R(e){D.some(function(t,n){if(t.name===e)return D.splice(n,1),!0})}function B(e){return t=e,D.map(function(e){return e.name}).indexOf(t)>=0;var t}var U=function(e){function t(t){e.call(this),this.nodeType=8,this.nodeId=n(),this.ref=this.nodeId,this.type="comment",this.value=t,this.children=[],this.pureChildren=[]}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return"\x3c!-- "+this.value+" --\x3e"},t}(S);function z(e,t){return void 0===t&&(t=[]),{module:"dom",method:e,args:t}}var L=function(e,t){this.id=e,this.batched=!1,this.updates=[],"function"==typeof t?Object.defineProperty(this,"handler",{configurable:!0,enumerable:!0,writable:!0,value:t}):console.error("[JS Runtime] invalid parameter, handler must be a function")};L.prototype.createFinish=function(e){return(0,this.handler)([z("createFinish")],e)},L.prototype.updateFinish=function(e){return(0,this.handler)([z("updateFinish")],e)},L.prototype.refreshFinish=function(e){return(0,this.handler)([z("refreshFinish")],e)},L.prototype.createBody=function(e){var t=e.toJSON(),n=t.children;delete t.children;var r=[z("createBody",[t])];return n&&r.push.apply(r,n.map(function(e){return z("addElement",[t.ref,e,-1])})),this.addActions(r)},L.prototype.addElement=function(e,t,n){return n>=0||(n=-1),this.addActions(z("addElement",[t,e.toJSON(),n]))},L.prototype.removeElement=function(e){if(Array.isArray(e)){var t=e.map(function(e){return z("removeElement",[e])});return this.addActions(t)}return this.addActions(z("removeElement",[e]))},L.prototype.moveElement=function(e,t,n){return this.addActions(z("moveElement",[e,t,n]))},L.prototype.setAttr=function(e,t,n){var r={};return r[t]=n,this.addActions(z("updateAttrs",[e,r]))},L.prototype.setStyle=function(e,t,n){var r={};return r[t]=n,this.addActions(z("updateStyle",[e,r]))},L.prototype.setStyles=function(e,t){return this.addActions(z("updateStyle",[e,t]))},L.prototype.addEvent=function(e,t){return this.addActions(z("addEvent",[e,t]))},L.prototype.removeEvent=function(e,t){return this.addActions(z("removeEvent",[e,t]))},L.prototype.handler=function(e,t){return t&&t()},L.prototype.addActions=function(e){var t=this.updates,n=this.handler;if(Array.isArray(e)||(e=[e]),!this.batched)return n(e);t.push.apply(t,e)};var H={createBody:"callCreateBody",addElement:"callAddElement",removeElement:"callRemoveElement",moveElement:"callMoveElement",updateAttrs:"callUpdateAttrs",updateStyle:"callUpdateStyle",addEvent:"callAddEvent",removeEvent:"callRemoveEvent"};function W(e,t,n){var r=t.module,o=t.method,i=t.args;if(a=o,"dom"===r&&H[a]&&"function"==typeof global[H[a]])return global[H[o]].apply(global,[e].concat(i,["-1"]));var a;return n(e,[t],"-1")}var V=function e(t,n,r){t=t?t.toString():"",this.id=t,this.URL=n,i=this,(o=t)&&(l[o]=i);var o,i;this.nodeMap={};var a=e.Listener||L;this.listener=new a(t,r||function(e,t){var n=t||global.callNative;return"function"!=typeof n&&console.error("[JS Runtime] no default handler"),function(t){Array.isArray(t)||(t=[t]);for(var r=0;r<t.length;r++){var o=W(e,t[r],n);if(-1===o)return o}}}(t,e.handler)),this.taskCenter=new A(t,r?function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return r.apply(void 0,t)}:e.handler),this.createDocumentElement()};V.prototype.getRef=function(e){return this.nodeMap[e]},V.prototype.open=function(){this.listener.batched=!1},V.prototype.close=function(){this.listener.batched=!0},V.prototype.createDocumentElement=function(){var e=this;if(!this.documentElement){var t=new O("document");t.docId=this.id,t.ownerDocument=this,t.role="documentElement",t.depth=0,t.ref="_documentElement",this.nodeMap._documentElement=t,this.documentElement=t,Object.defineProperty(t,"appendChild",{configurable:!0,enumerable:!0,writable:!0,value:function(t){f(e,t)}}),Object.defineProperty(t,"insertBefore",{configurable:!0,enumerable:!0,writable:!0,value:function(t,n){f(e,t,n)}})}return this.documentElement},V.prototype.createBody=function(e,t){if(!this.body){h(this,new O(e,t))}return this.body},V.prototype.createElement=function(e,t){return new O(e,t)},V.prototype.createComment=function(e){return new U(e)},V.prototype.fireEvent=function(e,t,n,r,o){if(e){(n=n||{}).type=n.type||t,n.target=e,n.currentTarget=e,n.timestamp=Date.now(),r&&function(e,t){var n=t.attrs||{};for(var r in n)e.setAttr(r,n[r],!0);var o=t.style||{};for(var i in o)e.setStyle(i,o[i],!0)}(e,r);var i="true"===this.getRef("_root").attr.bubble;return e.fireEvent(t,n,i,o)}},V.prototype.destroy=function(){this.taskCenter.destroyCallback(),delete this.listener,delete this.nodeMap,delete this.taskCenter,e=this.id,delete l[e];var e},V.handler=null;var q={};function $(e,t,n){var r=d(e);return r&&"function"==typeof r.send?function(){for(var e=[],o=arguments.length;o--;)e[o]=arguments[o];return r.send("module",{module:t,method:n},e)}:(console.error("[JS Framework] Failed to find taskCenter ("+e+")."),null)}var G=function(e,t){n=this,r=String(e),Object.defineProperty(n,"[[CurrentInstanceId]]",{value:r});var n,r;this.config=t||{},this.document=new V(e,this.config.bundleUrl),this.requireModule=this.requireModule.bind(this),this.isRegisteredModule=N,this.isRegisteredComponent=T};G.prototype.requireModule=function(e){var t,n=(t=this,t["[[CurrentInstanceId]]"]);if(n&&this.document&&this.document.taskCenter){if(N(e)){var r=e+"#"+n;if(!q[r]){var o=(c=e,j[c]),i={},a=function(t){Object.defineProperty(i,t,{enumerable:!0,configurable:!0,get:function(){return $(n,e,t)},set:function(r){return function(e,t,n,r){var o=d(e);return o&&"function"==typeof o.send?"function"!=typeof r?(console.error("[JS Framework] "+t+"."+n+" must be assigned as a function."),null):function(e){return o.send("module",{module:t,method:n},[e])}:(console.error("[JS Framework] Failed to find taskCenter ("+e+")."),null)}(n,e,t,r)}})};for(var s in o)a(s);"function"==typeof Proxy?q[r]=new Proxy(i,{get:function(t,r){return r in t?t[r]:(console.warn('[JS Framework] using unregistered method "'+e+"."+r+'"'),$(n,e,r))}}):q[r]=i}var c;return q[r]}console.warn('[JS Framework] using unregistered weex module "'+e+'"')}else console.error('[JS Framework] Failed to requireModule("'+e+'"), instance ('+n+") doesn't exist anymore.")},G.prototype.supports=function(e){if("string"!=typeof e)return null;var t=e.match(/^@(\w+)\/(\w+)(\.(\w+))?$/i);if(t){var n=t[1],r=t[2],o=t[4];switch(n){case"module":return N(r,o);case"component":return T(r)}}return null};var K,X,Y=/^\s*\/\/ *(\{[^}]*\}) *\r?\n/;var Q={};function Z(e){return Q[e]}function ee(e,t,n){void 0===t&&(t={});var r=new G(e,t);Object.freeze(r);var o=t.bundleType||"Vue";Q[e]=o;var i=X.frameworks[o];if(!i)return new Error('[JS Framework] Invalid bundle type "'+o+'".');!function(e,t,n){var r=d(e);if(r&&"function"==typeof r.send)if(t&&n){var o="jsfm."+t+"."+n;try{if(N("userTrack","addPerfPoint")){var i=Object.create(null);i[o]="4",r.send("module",{module:"userTrack",method:"addPerfPoint"},[i])}}catch(e){console.error('[JS Framework] Failed to trace "'+o+'"!')}}else console.warn("[JS Framework] Invalid track type ("+t+") or value ("+n+")");else console.error("[JS Framework] Failed to create tracker!")}(e,"bundleType",o);var a=function(e,t,n){var r=Object.create(null);return r.service=Object.create(null),D.forEach(function(o){var i=o.name,a=o.options.create;if(a)try{var s=a(e,t,n);Object.assign(r.service,s),Object.assign(r,s.instance)}catch(e){console.error("[JS Runtime] Failed to create service "+i+".")}}),delete r.service.instance,Object.freeze(r.service),r}(e,{weex:r,config:t,created:Date.now(),framework:o,bundleType:o},X);Object.freeze(a);var s=Object.create(null);Object.assign(s,a,{weex:r,services:a}),Object.freeze(s);var c=Object.assign({},s);return"function"==typeof i.createInstanceContext&&Object.assign(c,i.createInstanceContext(e,s,n)),Object.freeze(c),c}var te={createInstance:function(e,t,n,r){if(Q[e])return new Error('The instance id "'+e+'" has already been used!');var o=function(e){var t=Y.exec(e);if(t)try{return JSON.parse(t[1]).framework}catch(e){}return"Weex"}(t);Q[e]=o,(n=JSON.parse(JSON.stringify(n||{}))).env=JSON.parse(JSON.stringify(global.WXEnvironment||{})),n.bundleType=o;var i=X.frameworks[o];if(!i)return new Error('[JS Framework] Invalid bundle type "'+o+'".');"Weex"===o&&console.error('[JS Framework] COMPATIBILITY WARNING: Weex DSL 1.0 (.we) framework is no longer supported! It will be removed in the next version of WeexSDK, your page would be crash if you still using the ".we" framework. Please upgrade it to Vue.js or Rax.');var a=ee(e,n,r);if("function"==typeof i.createInstance){if("Rax"===o||"Weex"===o){var s=Object.assign({config:n,created:Date.now(),framework:o},a);return i.createInstance(e,t,n,r,s)}return i.createInstance(e,t,n,r,a)}!function(e,t){var n=[],r=[];for(var o in t)n.push(o),r.push(t[o]);var i="\n    (function (global) {\n      "+e+"\n    })(Object.create(this))\n  ";(new(Function.prototype.bind.apply(Function,[null].concat(n,[i])))).apply(void 0,r)}(t,a)},createInstanceContext:ee,getRoot:function(e){var t=u(e);try{if(t&&t.body)return t.body.toJSON()}catch(e){return void console.error("[JS Framework] Failed to get the virtual dom tree.")}},getDocument:u,registerService:P,unregisterService:R,callJS:function(e,t){var n=K[Z(e)];return n&&"function"==typeof n.receiveTasks?n.receiveTasks(e,t):_(e,t)}};function ne(e){te[e]=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var r=t[0],o=Z(r);if(o&&K[o]){var i=(s=K[o])[e].apply(s,t),a={framework:o};return"refreshInstance"===e?D.forEach(function(e){var t=e.options.refresh;t&&t(r,{info:a,runtime:X})}):"destroyInstance"===e&&(D.forEach(function(e){var t=e.options.destroy;t&&t(r,{info:a,runtime:X})}),delete Q[r]),i}return new Error('[JS Framework] Using invalid instance id "'+r+'" when calling '+e+".");var s}}function re(e,t){te[e]=function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];"function"==typeof t&&t.apply(void 0,n);for(var o in X.frameworks){var i=X.frameworks[o];i&&i[e]&&i[e].apply(i,n)}}}var oe={Document:V,Element:O,Comment:U,Listener:L,TaskCenter:A,sendTasks:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return"function"==typeof callNative?callNative.apply(void 0,e):(global.callNative||function(){}).apply(void 0,e)}};V.handler=oe.sendTasks;var ie={service:{register:P,unregister:R,has:B},freezePrototype:function(){Object.freeze(oe.Comment),Object.freeze(oe.Listener),Object.freeze(oe.Document.prototype),Object.freeze(oe.Comment.prototype),Object.freeze(oe.Listener.prototype)},init:function(e){K=(X=e||{}).frameworks||{},function(){var e={createFinish:global.callCreateFinish,updateFinish:global.callUpdateFinish,refreshFinish:global.callRefreshFinish,createBody:global.callCreateBody,registerStyleSheets:global.callRegisterStyleSheets,addElement:global.callAddElement,removeElement:global.callRemoveElement,moveElement:global.callMoveElement,updateAttrs:global.callUpdateAttrs,updateStyle:global.callUpdateStyle,updateClassList:global.callUpdateClassList,addEvent:global.callAddEvent,removeEvent:global.callRemoveEvent},t=A.prototype,n=function(n){var r=e[n];t[n]=r?function(e,t){return r.apply(void 0,[e].concat(t))}:function(e,t){return x(e,[{module:"dom",method:n,args:t}],"-1")}};for(var r in e)n(r);t.componentHandler=global.callNativeComponent||function(e,t,n,r,o){return x(e,[{component:o.component,ref:t,method:n,args:r}])},t.moduleHandler=global.callNativeModule||function(e,t,n,r){return x(e,[{module:t,method:n,args:r}])}}();for(var t in K){var n=K[t];if("function"==typeof n.init)try{n.init(e)}catch(e){}}return re("registerComponents",M),re("registerModules",F),re("registerMethods"),["destroyInstance","refreshInstance"].forEach(ne),te},config:oe};function ae(e,t){void 0===t&&(t={}),this.type=e||"message",this.data=t.data||null,this.origin=t.origin||"",this.source=t.source||null,this.ports=t.ports||[],this.target=null,this.timeStamp=Date.now()}var se={},ce={};function le(){}le.prototype.postMessage=function(e){if(this._closed)throw new Error('BroadcastChannel "'+this.name+'" is closed.');var t=se[this.name];if(t&&t.length)for(var n=0;n<t.length;++n){var r=t[n];r._closed||r===this||"function"==typeof r.onmessage&&r.onmessage(new ae("message",{data:e}))}},le.prototype.close=function(){var e=this;if(!this._closed&&(this._closed=!0,se[this.name])){var t=se[this.name].filter(function(t){return t!==e});t.length?se[this.name]=t:delete se[this.name]}};var ue={BroadcastChannel:{create:function(e,t,n){if(ce[e]=[],"function"==typeof global.BroadcastChannel)return{};var r={BroadcastChannel:function(t){Object.defineProperty(this,"name",{configurable:!1,enumerable:!0,writable:!1,value:String(t)}),this._closed=!1,this.onmessage=null,se[this.name]||(se[this.name]=[]),se[this.name].push(this),ce[e].push(this)}};return r.BroadcastChannel.prototype=le.prototype,{instance:r}},destroy:function(e,t){ce[e].forEach(function(e){return e.close()}),delete ce[e]}}};var de,fe,he,pe=(de=function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getInstance=i,t.init=function(e){r=e.Document,e.Element,e.Comment},t.createInstanceContext=function(e,t,n){var i=o[e];{if(void 0==i){var a=t.weex.document.URL||"about:blank",s=new r(e,a);i=o[e]={document:s,instanceId:e,bundleUrl:a,__weex_data__:n,modules:{},uid:0};var c={instanceId:e,bundleUrl:a,document:s,__weex_document__:s,__weex_options__:t,__weex_data__:n,__weex_config__:t};return c}throw new Error('Instance id "'+e+'" existed when create instance')}},t.refreshInstance=function(e,t){var n=i(e).document;n.documentElement.fireEvent("refresh",{timestamp:Date.now(),data:t}),n.taskCenter.send("dom",{action:"refreshFinish"},[])},t.destroyInstance=function(e){var t=i(e),n=(t.bundleCode,t.document);n.documentElement.fireEvent("destory",{timestamp:Date.now()}),n.destroy&&n.destroy();n.taskCenter&&n.taskCenter.destroyCallback&&n.taskCenter.destroyCallback();delete o[e]};var r=void 0,o={};function i(e){var t=o[e];if(!t)throw new Error('Invalid instance id "'+e+'"');return t}t.default=t}])},fe=void 0,de(fe={exports:{}},fe.exports),fe.exports),ve=(he=pe,he&&he.__esModule&&Object.prototype.hasOwnProperty.call(he,"default")?he.default:he);!function(t){var n=ie.init,r=ie.config;r.frameworks=t;var o=e.native,i=e.transformer;for(var a in ue)ie.service.register(a,ue[a]);ie.freezePrototype(),global.frameworkVersion=o,global.transformerVersion=i;var s=n(r),c=function(e){global[e]=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var r=s[e].apply(s,t);return r instanceof Error&&console.error(r.toString()),r}};for(var l in s)c(l)}({Rax:Object.freeze({default:ve,__moduleExports:pe})})});
//# sourceMappingURL=weex-rax.min.js.map
